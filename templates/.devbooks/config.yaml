# .devbooks/config.yaml
# DevBooks Protocol Discovery Configuration
#
# This file is auto-generated by DevBooks to help AI agents discover project configuration.
# Do not delete or modify it unless you understand what each field does.

# ==================== DevBooks Configuration ====================

# Root directory
root: dev-playbooks/

# Constitution file (must load)
constitution: constitution.md

# Project context
project: project.md

# Path configuration
paths:
  specs: specs/
  changes: changes/
  scripts: scripts/
  staged: specs/_staged/
  anti_patterns: specs/_meta/anti-patterns/

# ==================== Backward Compatibility ====================

# Root mappings (backward compatibility)
truth_root: dev-playbooks/specs/
change_root: dev-playbooks/changes/

# Rules document location
agents_doc: dev-playbooks/project.md

# Project profile (optional)
project_profile: dev-playbooks/specs/_meta/project-profile.md

# ==================== Protocol Constraints ====================

constraints:
  # Whether apply requires an explicit role
  apply_requires_role: true

  # Roles allowed during apply
  apply_roles:
    - test-owner
    - coder
    - reviewer
    - test-reviewer

  # Whether Test Owner and Coder must work in separate conversations
  role_isolation: true

  # Whether Coder is forbidden from modifying tests/
  coder_no_tests: true

  # Whether to enable structural quality guardrails
  structural_guardrails: true

  # Whether constitution must be loaded
  require_constitution: true

# ==================== Fitness Functions ====================

fitness:
  # Fitness check mode: error (block) | warn | off
  mode: warn

  # Rules file path
  rules_file: specs/architecture/fitness-rules.md

# ==================== Acceptance Criteria Tracing ====================

tracing:
  # AC coverage threshold
  coverage_threshold: 80

  # Output format: text | json
  output_format: text

# ==================== Proposal Stage ====================

proposal:
  # Whether to enable the proposal debate triangle (Author/Challenger/Judge)
  enable_debate: true

  # Whether Impact Analysis is required (cross-module changes)
  require_impact_analysis: true
